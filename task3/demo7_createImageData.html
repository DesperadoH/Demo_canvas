<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>demo1_drawImage</title>
		<style>
		body,html{
			width:100%;
			height:100%;
			padding:0;
			margin:0;
		}
		#canvas{
			display: block;
			border:1px solid black;
		}
	</style>
</head>
<body>
	<canvas id="canvas"></canvas>


	<script>
	
	window.onload = function(){
		var canvas = document.getElementById("canvas");
			canvas.width = 800;
			canvas.height = 800;
		var context = canvas.getContext("2d");

		// 从 0 创建一个 imageData 然后进行像素级操作
		var imageData = context.createImageData(canvas.width,canvas.height);
		// 像素数组
		var pixelData = imageData.data;

		for(var i = 0; i < canvas.height; i++){
			for(var j = 0 ; j < canvas.width; j++){
				var p = i * canvas.width + j;
				pixelData[4*p + 0] = parseInt(Math.pow(Math.cos(Math.atan2(j-400,i-400)/2),2)*255);
				pixelData[4*p + 1] = parseInt(Math.pow(Math.cos(Math.atan2(j-400,i-400)/2-2*Math.acos(-1)/3),2)*255);
				pixelData[4*p + 2] = parseInt(Math.pow(Math.cos(Math.atan2(j-400,i-400)/2+2*Math.acos(-1)/3),2)*255);
				pixelData[4*p + 3] = 255;
			}
		}



		context.putImageData(imageData,0,0,0,0,canvas.width,canvas.height);


	}


	</script>
</body>
</html>